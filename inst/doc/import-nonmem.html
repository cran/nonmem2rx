<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Importing NONMEM into rxode2</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>
<script>// Hide empty <a> tag within highlighted CodeBlock for screen reader accessibility (see https://github.com/jgm/pandoc/issues/6352#issuecomment-626106786) -->
// v0.0.1
// Written by JooYoung Seo (jooyoung@psu.edu) and Atsushi Yasumoto on June 1st, 2020.

document.addEventListener('DOMContentLoaded', function() {
  const codeList = document.getElementsByClassName("sourceCode");
  for (var i = 0; i < codeList.length; i++) {
    var linkList = codeList[i].getElementsByTagName('a');
    for (var j = 0; j < linkList.length; j++) {
      if (linkList[j].innerHTML === "") {
        linkList[j].setAttribute('aria-hidden', 'true');
      }
    }
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Importing NONMEM into rxode2</h1>



<p>The goal of <code>nonmem2rx</code> is to convert a NONMEM control stream to <code>rxode2</code> for easy clinical trial simulation in R.</p>
<p>Here is a quick example of a conversion:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="kw">library</span>(nonmem2rx)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="co"># First we need the location of the nonmem control stream Since we are running an example, we will use one of the built-in examples in `nonmem2rx`</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a>ctlFile &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;mods/cpt/runODE032.ctl&quot;</span>, <span class="dt">package=</span><span class="st">&quot;nonmem2rx&quot;</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a><span class="co"># You can use a control stream or other file. With the development</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a><span class="co"># version of `babelmixr2`, you can simply point to the listing file</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a>mod &lt;-<span class="st"> </span><span class="kw">nonmem2rx</span>(ctlFile, <span class="dt">lst=</span><span class="st">&quot;.res&quot;</span>, <span class="dt">save=</span><span class="ot">FALSE</span>, <span class="dt">determineError=</span><span class="ot">FALSE</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true"></a><span class="co">#&gt; ℹ getting information from  &#39;/tmp/RtmpZS7Fbq/Rinst3a54760ebd7ab/nonmem2rx/mods/cpt/runODE032.ctl&#39;</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true"></a><span class="co">#&gt; ℹ reading in xml file</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true"></a><span class="co">#&gt; ℹ reading in ext file</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true"></a><span class="co">#&gt; ℹ reading in phi file</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true"></a><span class="co">#&gt; ℹ reading in lst file</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true"></a><span class="co">#&gt; ℹ abbreviated list parsing</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true"></a><span class="co">#&gt; ℹ reading in grd file</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true"></a><span class="co">#&gt; ℹ splitting control stream by records</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $INPUT</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $MODEL</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $gTHETA</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $OMEGA</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $SIGMA</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $PROBLEM</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $DATA</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $SUBROUTINES</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $PK</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $DES</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $ERROR</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $ESTIMATION</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true"></a><span class="co">#&gt; ℹ Ignore record $ESTIMATION</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $COVARIANCE</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true"></a><span class="co">#&gt; ℹ Ignore record $COVARIANCE</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $TABLE</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true"></a><span class="co">#&gt; ℹ change initial estimate of `theta1` to `1.37034036528946`</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true"></a><span class="co">#&gt; ℹ change initial estimate of `theta2` to `4.19814911033061`</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true"></a><span class="co">#&gt; ℹ change initial estimate of `theta3` to `1.38003493562413`</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true"></a><span class="co">#&gt; ℹ change initial estimate of `theta4` to `3.87657341967489`</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true"></a><span class="co">#&gt; ℹ change initial estimate of `theta5` to `0.196446108190896`</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true"></a><span class="co">#&gt; ℹ change initial estimate of `eta1` to `0.101251418415006`</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true"></a><span class="co">#&gt; ℹ change initial estimate of `eta2` to `0.0993872449483344`</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true"></a><span class="co">#&gt; ℹ change initial estimate of `eta3` to `0.101302674763154`</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true"></a><span class="co">#&gt; ℹ change initial estimate of `eta4` to `0.0730497519364148`</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true"></a><span class="co">#&gt; ℹ read in nonmem input data (for model validation): /tmp/RtmpZS7Fbq/Rinst3a54760ebd7ab/nonmem2rx/mods/cpt/Bolus_2CPT.csv</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true"></a><span class="co">#&gt; ℹ ignoring lines that begin with a letter (IGNORE=@)&#39;</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true"></a><span class="co">#&gt; ℹ applying names specified by $INPUT</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true"></a><span class="co">#&gt; ℹ subsetting accept/ignore filters code: .data[-which((.data$SD == 0)),]</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true"></a><span class="co">#&gt; ℹ read in nonmem IPRED data (for model validation): /tmp/RtmpZS7Fbq/Rinst3a54760ebd7ab/nonmem2rx/mods/cpt/runODE032.csv</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true"></a><span class="co">#&gt; ℹ changing most variables to lower case</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true"></a><span class="co">#&gt; ℹ replace theta names</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true"></a><span class="co">#&gt; ℹ replace eta names</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true"></a><span class="co">#&gt; ℹ done (no labels)</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true"></a><span class="co">#&gt; ℹ renaming compartments</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true"></a><span class="co">#&gt; ℹ solving ipred problem</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true"></a><span class="co">#&gt; ℹ solving pred problem</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true"></a>mod</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true"></a><span class="co">#&gt;  ── rxode2-based free-form 2-cmt ODE model ────────────────────────────────────── </span></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true"></a><span class="co">#&gt;  ── Initalization: ──  </span></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true"></a><span class="co">#&gt; Fixed Effects ($theta): </span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true"></a><span class="co">#&gt;    theta1    theta2    theta3    theta4       RSV </span></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true"></a><span class="co">#&gt; 1.3703404 4.1981491 1.3800349 3.8765734 0.1964461 </span></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true"></a><span class="co">#&gt; Omega ($omega): </span></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true"></a><span class="co">#&gt;           eta1       eta2      eta3       eta4</span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true"></a><span class="co">#&gt; eta1 0.1012514 0.00000000 0.0000000 0.00000000</span></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true"></a><span class="co">#&gt; eta2 0.0000000 0.09938724 0.0000000 0.00000000</span></span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true"></a><span class="co">#&gt; eta3 0.0000000 0.00000000 0.1013027 0.00000000</span></span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true"></a><span class="co">#&gt; eta4 0.0000000 0.00000000 0.0000000 0.07304975</span></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true"></a><span class="co">#&gt; States ($state or $stateDf): </span></span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true"></a><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true"></a><span class="co">#&gt; 1                  1          CENTRAL</span></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true"></a><span class="co">#&gt; 2                  2             PERI</span></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true"></a><span class="co">#&gt;  ── μ-referencing ($muRefTable): ──  </span></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true"></a><span class="co">#&gt;    theta  eta level</span></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true"></a><span class="co">#&gt; 1 theta1 eta1    id</span></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true"></a><span class="co">#&gt; 2 theta2 eta2    id</span></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true"></a><span class="co">#&gt; 3 theta3 eta3    id</span></span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true"></a><span class="co">#&gt; 4 theta4 eta4    id</span></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true"></a><span class="co">#&gt;  ── Model (Normalized Syntax): ── </span></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true"></a><span class="co">#&gt; function() {</span></span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true"></a><span class="co">#&gt;     description &lt;- &quot;BOLUS_2CPT_CLV1QV2 SINGLE DOSE FOCEI (120 Ind/2280 Obs) runODE032&quot;</span></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true"></a><span class="co">#&gt;     dfObs &lt;- 2280</span></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true"></a><span class="co">#&gt;     dfSub &lt;- 120</span></span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true"></a><span class="co">#&gt;     sigma &lt;- lotri({</span></span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true"></a><span class="co">#&gt;         eps1 ~ 1</span></span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true"></a><span class="co">#&gt;     })</span></span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true"></a><span class="co">#&gt;     thetaMat &lt;- lotri({</span></span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true"></a><span class="co">#&gt;         theta1 ~ c(theta1 = 0.000887681)</span></span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true"></a><span class="co">#&gt;         theta2 ~ c(theta1 = -0.00010551, theta2 = 0.000871409)</span></span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true"></a><span class="co">#&gt;         theta3 ~ c(theta1 = 0.000184416, theta2 = -0.000106195, </span></span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true"></a><span class="co">#&gt;             theta3 = 0.00299336)</span></span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true"></a><span class="co">#&gt;         theta4 ~ c(theta1 = -0.000120234, theta2 = -5.06663e-05, </span></span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true"></a><span class="co">#&gt;             theta3 = 0.000165252, theta4 = 0.00121347)</span></span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true"></a><span class="co">#&gt;         RSV ~ c(theta1 = 5.2783e-08, theta2 = -1.56562e-05, theta3 = 5.99331e-06, </span></span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true"></a><span class="co">#&gt;             theta4 = -2.53991e-05, RSV = 9.94218e-06)</span></span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true"></a><span class="co">#&gt;         eps1 ~ c(theta1 = 0, theta2 = 0, theta3 = 0, theta4 = 0, </span></span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true"></a><span class="co">#&gt;             RSV = 0, eps1 = 0)</span></span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true"></a><span class="co">#&gt;         eta1 ~ c(theta1 = -4.71273e-05, theta2 = 4.69667e-05, </span></span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true"></a><span class="co">#&gt;             theta3 = -3.64271e-05, theta4 = 2.54796e-05, RSV = -8.16885e-06, </span></span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true"></a><span class="co">#&gt;             eps1 = 0, eta1 = 0.000169296)</span></span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true"></a><span class="co">#&gt;         omega.2.1 ~ c(theta1 = 0, theta2 = 0, theta3 = 0, theta4 = 0, </span></span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true"></a><span class="co">#&gt;             RSV = 0, eps1 = 0, eta1 = 0, omega.2.1 = 0)</span></span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true"></a><span class="co">#&gt;         eta2 ~ c(theta1 = -7.37156e-05, theta2 = 2.56634e-05, </span></span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true"></a><span class="co">#&gt;             theta3 = -8.08349e-05, theta4 = 1.37e-05, RSV = -4.36564e-06, </span></span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true"></a><span class="co">#&gt;             eps1 = 0, eta1 = 8.75181e-06, omega.2.1 = 0, eta2 = 0.00015125)</span></span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true"></a><span class="co">#&gt;         omega.3.1 ~ c(theta1 = 0, theta2 = 0, theta3 = 0, theta4 = 0, </span></span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true"></a><span class="co">#&gt;             RSV = 0, eps1 = 0, eta1 = 0, omega.2.1 = 0, eta2 = 0, </span></span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true"></a><span class="co">#&gt;             omega.3.1 = 0)</span></span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true"></a><span class="co">#&gt;         omega.3.2 ~ c(theta1 = 0, theta2 = 0, theta3 = 0, theta4 = 0, </span></span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true"></a><span class="co">#&gt;             RSV = 0, eps1 = 0, eta1 = 0, omega.2.1 = 0, eta2 = 0, </span></span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true"></a><span class="co">#&gt;             omega.3.1 = 0, omega.3.2 = 0)</span></span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true"></a><span class="co">#&gt;         eta3 ~ c(theta1 = 6.63383e-05, theta2 = -8.19002e-05, </span></span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true"></a><span class="co">#&gt;             theta3 = 0.000548985, theta4 = 0.000168356, RSV = 1.59122e-06, </span></span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true"></a><span class="co">#&gt;             eps1 = 0, eta1 = 3.48714e-05, omega.2.1 = 0, eta2 = 4.31593e-07, </span></span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true"></a><span class="co">#&gt;             omega.3.1 = 0, omega.3.2 = 0, eta3 = 0.000959029)</span></span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true"></a><span class="co">#&gt;         omega.4.1 ~ c(theta1 = 0, theta2 = 0, theta3 = 0, theta4 = 0, </span></span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true"></a><span class="co">#&gt;             RSV = 0, eps1 = 0, eta1 = 0, omega.2.1 = 0, eta2 = 0, </span></span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true"></a><span class="co">#&gt;             omega.3.1 = 0, omega.3.2 = 0, eta3 = 0, omega.4.1 = 0)</span></span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true"></a><span class="co">#&gt;         omega.4.2 ~ c(theta1 = 0, theta2 = 0, theta3 = 0, theta4 = 0, </span></span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true"></a><span class="co">#&gt;             RSV = 0, eps1 = 0, eta1 = 0, omega.2.1 = 0, eta2 = 0, </span></span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true"></a><span class="co">#&gt;             omega.3.1 = 0, omega.3.2 = 0, eta3 = 0, omega.4.1 = 0, </span></span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true"></a><span class="co">#&gt;             omega.4.2 = 0)</span></span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true"></a><span class="co">#&gt;         omega.4.3 ~ c(theta1 = 0, theta2 = 0, theta3 = 0, theta4 = 0, </span></span>
<span id="cb1-137"><a href="#cb1-137" aria-hidden="true"></a><span class="co">#&gt;             RSV = 0, eps1 = 0, eta1 = 0, omega.2.1 = 0, eta2 = 0, </span></span>
<span id="cb1-138"><a href="#cb1-138" aria-hidden="true"></a><span class="co">#&gt;             omega.3.1 = 0, omega.3.2 = 0, eta3 = 0, omega.4.1 = 0, </span></span>
<span id="cb1-139"><a href="#cb1-139" aria-hidden="true"></a><span class="co">#&gt;             omega.4.2 = 0, omega.4.3 = 0)</span></span>
<span id="cb1-140"><a href="#cb1-140" aria-hidden="true"></a><span class="co">#&gt;         eta4 ~ c(theta1 = -9.49661e-06, theta2 = 0.000110108, </span></span>
<span id="cb1-141"><a href="#cb1-141" aria-hidden="true"></a><span class="co">#&gt;             theta3 = -0.000306537, theta4 = -9.12897e-05, RSV = 3.1877e-06, </span></span>
<span id="cb1-142"><a href="#cb1-142" aria-hidden="true"></a><span class="co">#&gt;             eps1 = 0, eta1 = 1.36628e-05, omega.2.1 = 0, eta2 = -1.95096e-05, </span></span>
<span id="cb1-143"><a href="#cb1-143" aria-hidden="true"></a><span class="co">#&gt;             omega.3.1 = 0, omega.3.2 = 0, eta3 = -0.00012977, </span></span>
<span id="cb1-144"><a href="#cb1-144" aria-hidden="true"></a><span class="co">#&gt;             omega.4.1 = 0, omega.4.2 = 0, omega.4.3 = 0, eta4 = 0.00051019)</span></span>
<span id="cb1-145"><a href="#cb1-145" aria-hidden="true"></a><span class="co">#&gt;     })</span></span>
<span id="cb1-146"><a href="#cb1-146" aria-hidden="true"></a><span class="co">#&gt;     validation &lt;- c(&quot;IPRED relative difference compared to Nonmem IPRED: 0%; 95% percentile: (0%,0%); rtol=6.43e-06&quot;, </span></span>
<span id="cb1-147"><a href="#cb1-147" aria-hidden="true"></a><span class="co">#&gt;         &quot;IPRED absolute difference compared to Nonmem IPRED: 95% percentile: (2.19e-05, 0.0418); atol=0.00167&quot;, </span></span>
<span id="cb1-148"><a href="#cb1-148" aria-hidden="true"></a><span class="co">#&gt;         &quot;IWRES relative difference compared to Nonmem IWRES: 0%; 95% percentile: (0%,0.01%); rtol=8.99e-06&quot;, </span></span>
<span id="cb1-149"><a href="#cb1-149" aria-hidden="true"></a><span class="co">#&gt;         &quot;IWRES absolute difference compared to Nonmem IWRES: 95% percentile: (1.82e-07, 4.63e-05); atol=3.65e-06&quot;, </span></span>
<span id="cb1-150"><a href="#cb1-150" aria-hidden="true"></a><span class="co">#&gt;         &quot;PRED relative difference compared to Nonmem PRED: 0%; 95% percentile: (0%,0%); rtol=6.41e-06&quot;, </span></span>
<span id="cb1-151"><a href="#cb1-151" aria-hidden="true"></a><span class="co">#&gt;         &quot;PRED absolute difference compared to Nonmem PRED: 95% percentile: (1.41e-07,0.00382) atol=6.41e-06&quot;)</span></span>
<span id="cb1-152"><a href="#cb1-152" aria-hidden="true"></a><span class="co">#&gt;     ini({</span></span>
<span id="cb1-153"><a href="#cb1-153" aria-hidden="true"></a><span class="co">#&gt;         theta1 &lt;- 1.37034036528946</span></span>
<span id="cb1-154"><a href="#cb1-154" aria-hidden="true"></a><span class="co">#&gt;         label(&quot;log Cl&quot;)</span></span>
<span id="cb1-155"><a href="#cb1-155" aria-hidden="true"></a><span class="co">#&gt;         theta2 &lt;- 4.19814911033061</span></span>
<span id="cb1-156"><a href="#cb1-156" aria-hidden="true"></a><span class="co">#&gt;         label(&quot;log Vc&quot;)</span></span>
<span id="cb1-157"><a href="#cb1-157" aria-hidden="true"></a><span class="co">#&gt;         theta3 &lt;- 1.38003493562413</span></span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true"></a><span class="co">#&gt;         label(&quot;log Q&quot;)</span></span>
<span id="cb1-159"><a href="#cb1-159" aria-hidden="true"></a><span class="co">#&gt;         theta4 &lt;- 3.87657341967489</span></span>
<span id="cb1-160"><a href="#cb1-160" aria-hidden="true"></a><span class="co">#&gt;         label(&quot;log Vp&quot;)</span></span>
<span id="cb1-161"><a href="#cb1-161" aria-hidden="true"></a><span class="co">#&gt;         RSV &lt;- c(0, 0.196446108190896, 1)</span></span>
<span id="cb1-162"><a href="#cb1-162" aria-hidden="true"></a><span class="co">#&gt;         label(&quot;RSV&quot;)</span></span>
<span id="cb1-163"><a href="#cb1-163" aria-hidden="true"></a><span class="co">#&gt;         eta1 ~ 0.101251418415006</span></span>
<span id="cb1-164"><a href="#cb1-164" aria-hidden="true"></a><span class="co">#&gt;         eta2 ~ 0.0993872449483344</span></span>
<span id="cb1-165"><a href="#cb1-165" aria-hidden="true"></a><span class="co">#&gt;         eta3 ~ 0.101302674763154</span></span>
<span id="cb1-166"><a href="#cb1-166" aria-hidden="true"></a><span class="co">#&gt;         eta4 ~ 0.0730497519364148</span></span>
<span id="cb1-167"><a href="#cb1-167" aria-hidden="true"></a><span class="co">#&gt;     })</span></span>
<span id="cb1-168"><a href="#cb1-168" aria-hidden="true"></a><span class="co">#&gt;     model({</span></span>
<span id="cb1-169"><a href="#cb1-169" aria-hidden="true"></a><span class="co">#&gt;         cmt(CENTRAL)</span></span>
<span id="cb1-170"><a href="#cb1-170" aria-hidden="true"></a><span class="co">#&gt;         cmt(PERI)</span></span>
<span id="cb1-171"><a href="#cb1-171" aria-hidden="true"></a><span class="co">#&gt;         cl &lt;- exp(theta1 + eta1)</span></span>
<span id="cb1-172"><a href="#cb1-172" aria-hidden="true"></a><span class="co">#&gt;         v &lt;- exp(theta2 + eta2)</span></span>
<span id="cb1-173"><a href="#cb1-173" aria-hidden="true"></a><span class="co">#&gt;         q &lt;- exp(theta3 + eta3)</span></span>
<span id="cb1-174"><a href="#cb1-174" aria-hidden="true"></a><span class="co">#&gt;         v2 &lt;- exp(theta4 + eta4)</span></span>
<span id="cb1-175"><a href="#cb1-175" aria-hidden="true"></a><span class="co">#&gt;         v1 &lt;- v</span></span>
<span id="cb1-176"><a href="#cb1-176" aria-hidden="true"></a><span class="co">#&gt;         scale1 &lt;- v</span></span>
<span id="cb1-177"><a href="#cb1-177" aria-hidden="true"></a><span class="co">#&gt;         k21 &lt;- q/v2</span></span>
<span id="cb1-178"><a href="#cb1-178" aria-hidden="true"></a><span class="co">#&gt;         k12 &lt;- q/v</span></span>
<span id="cb1-179"><a href="#cb1-179" aria-hidden="true"></a><span class="co">#&gt;         d/dt(CENTRAL) &lt;- k21 * PERI - k12 * CENTRAL - cl * CENTRAL/v1</span></span>
<span id="cb1-180"><a href="#cb1-180" aria-hidden="true"></a><span class="co">#&gt;         d/dt(PERI) &lt;- -k21 * PERI + k12 * CENTRAL</span></span>
<span id="cb1-181"><a href="#cb1-181" aria-hidden="true"></a><span class="co">#&gt;         f &lt;- CENTRAL/scale1</span></span>
<span id="cb1-182"><a href="#cb1-182" aria-hidden="true"></a><span class="co">#&gt;         ipred &lt;- f</span></span>
<span id="cb1-183"><a href="#cb1-183" aria-hidden="true"></a><span class="co">#&gt;         rescv &lt;- RSV</span></span>
<span id="cb1-184"><a href="#cb1-184" aria-hidden="true"></a><span class="co">#&gt;         w &lt;- ipred * rescv</span></span>
<span id="cb1-185"><a href="#cb1-185" aria-hidden="true"></a><span class="co">#&gt;         ires &lt;- DV - ipred</span></span>
<span id="cb1-186"><a href="#cb1-186" aria-hidden="true"></a><span class="co">#&gt;         iwres &lt;- ires/w</span></span>
<span id="cb1-187"><a href="#cb1-187" aria-hidden="true"></a><span class="co">#&gt;         y &lt;- ipred + w * eps1</span></span>
<span id="cb1-188"><a href="#cb1-188" aria-hidden="true"></a><span class="co">#&gt;     })</span></span>
<span id="cb1-189"><a href="#cb1-189" aria-hidden="true"></a><span class="co">#&gt; }</span></span>
<span id="cb1-190"><a href="#cb1-190" aria-hidden="true"></a><span class="co">#&gt;  ── nonmem2rx translation notes ($notes): ──  </span></span>
<span id="cb1-191"><a href="#cb1-191" aria-hidden="true"></a><span class="co">#&gt;    • there are duplicate eta names, not renaming duplicate parameters </span></span>
<span id="cb1-192"><a href="#cb1-192" aria-hidden="true"></a><span class="co">#&gt;    • there are duplicate theta names, not renaming duplicate parameters </span></span>
<span id="cb1-193"><a href="#cb1-193" aria-hidden="true"></a><span class="co">#&gt;  ── nonmem2rx extra properties: ──  </span></span>
<span id="cb1-194"><a href="#cb1-194" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb1-195"><a href="#cb1-195" aria-hidden="true"></a><span class="co">#&gt; Sigma ($sigma): </span></span>
<span id="cb1-196"><a href="#cb1-196" aria-hidden="true"></a><span class="co">#&gt;      eps1</span></span>
<span id="cb1-197"><a href="#cb1-197" aria-hidden="true"></a><span class="co">#&gt; eps1    1</span></span>
<span id="cb1-198"><a href="#cb1-198" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb1-199"><a href="#cb1-199" aria-hidden="true"></a><span class="co">#&gt; other properties include: $nonmemData, $etaData</span></span>
<span id="cb1-200"><a href="#cb1-200" aria-hidden="true"></a><span class="co">#&gt; captured NONMEM table outputs: $predData, $ipredData</span></span>
<span id="cb1-201"><a href="#cb1-201" aria-hidden="true"></a><span class="co">#&gt; NONMEM/rxode2 comparison data: $iwresCompare, $predCompare, $ipredCompare</span></span>
<span id="cb1-202"><a href="#cb1-202" aria-hidden="true"></a><span class="co">#&gt; NONMEM/rxode2 composite comparison: $predAtol, $predRtol, $ipredAtol, $ipredRtol, $iwresAtol, $iwresRtol</span></span></code></pre></div>
<div id="setting-up-nonmem2rx-for-your-model" class="section level2">
<h2>Setting up <code>nonmem2rx</code> for your model</h2>
<p>Some common options that you may want to change when importing NONMEM control stream are:</p>
<ul>
<li><p>The default NONMEM output extension; By default it is <code>.lst</code>. You can set it to something else, like <code>.res</code>, using the following option: <code>options(nonmem2rx.lst=&quot;.res&quot;)</code>.</p></li>
<li><p>Turn on <a href="https://wfn.sourceforge.net/wfncs.htm#control_streams">extended control stream</a> support. You can turn it on by <code>options(nonmem2rx.extended=TRUE)</code></p></li>
</ul>
<p>You probably also want to change the name of parameters and compartments. The easiest way to name the parameters whatever you want is to pre-specify the names. For example:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>mod &lt;-<span class="st"> </span><span class="kw">nonmem2rx</span>(<span class="kw">system.file</span>(<span class="st">&quot;mods/cpt/runODE032.ctl&quot;</span>, <span class="dt">package=</span><span class="st">&quot;nonmem2rx&quot;</span>), <span class="dt">lst=</span><span class="st">&quot;.res&quot;</span>, <span class="dt">save=</span><span class="ot">FALSE</span>,</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>                 <span class="dt">thetaNames=</span><span class="kw">c</span>(<span class="st">&quot;lcl&quot;</span>, <span class="st">&quot;lvc&quot;</span>, <span class="st">&quot;lq&quot;</span>, <span class="st">&quot;lvp&quot;</span>, <span class="st">&quot;prop.sd&quot;</span>),</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a>                 <span class="dt">etaNames=</span><span class="kw">c</span>(<span class="st">&quot;eta.cl&quot;</span>, <span class="st">&quot;eta.vc&quot;</span>, <span class="st">&quot;eta.q&quot;</span>,<span class="st">&quot;eta.vp&quot;</span>),</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>                 <span class="dt">cmtNames =</span> <span class="kw">c</span>(<span class="st">&quot;central&quot;</span>, <span class="st">&quot;perip&quot;</span>))</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a><span class="co">#&gt; ℹ getting information from  &#39;/tmp/RtmpZS7Fbq/Rinst3a54760ebd7ab/nonmem2rx/mods/cpt/runODE032.ctl&#39;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a><span class="co">#&gt; ℹ reading in xml file</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true"></a><span class="co">#&gt; ℹ reading in ext file</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true"></a><span class="co">#&gt; ℹ reading in phi file</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true"></a><span class="co">#&gt; ℹ reading in lst file</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true"></a><span class="co">#&gt; ℹ abbreviated list parsing</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true"></a><span class="co">#&gt; ℹ reading in grd file</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true"></a><span class="co">#&gt; ℹ splitting control stream by records</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $INPUT</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $MODEL</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $gTHETA</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $OMEGA</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $SIGMA</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $PROBLEM</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $DATA</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $SUBROUTINES</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $PK</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $DES</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $ERROR</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $ESTIMATION</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true"></a><span class="co">#&gt; ℹ Ignore record $ESTIMATION</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $COVARIANCE</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true"></a><span class="co">#&gt; ℹ Ignore record $COVARIANCE</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $TABLE</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true"></a><span class="co">#&gt; ℹ change initial estimate of `theta1` to `1.37034036528946`</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true"></a><span class="co">#&gt; ℹ change initial estimate of `theta2` to `4.19814911033061`</span></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true"></a><span class="co">#&gt; ℹ change initial estimate of `theta3` to `1.38003493562413`</span></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true"></a><span class="co">#&gt; ℹ change initial estimate of `theta4` to `3.87657341967489`</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true"></a><span class="co">#&gt; ℹ change initial estimate of `theta5` to `0.196446108190896`</span></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true"></a><span class="co">#&gt; ℹ change initial estimate of `eta1` to `0.101251418415006`</span></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true"></a><span class="co">#&gt; ℹ change initial estimate of `eta2` to `0.0993872449483344`</span></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true"></a><span class="co">#&gt; ℹ change initial estimate of `eta3` to `0.101302674763154`</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true"></a><span class="co">#&gt; ℹ change initial estimate of `eta4` to `0.0730497519364148`</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true"></a><span class="co">#&gt; ℹ read in nonmem input data (for model validation): /tmp/RtmpZS7Fbq/Rinst3a54760ebd7ab/nonmem2rx/mods/cpt/Bolus_2CPT.csv</span></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true"></a><span class="co">#&gt; ℹ ignoring lines that begin with a letter (IGNORE=@)&#39;</span></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true"></a><span class="co">#&gt; ℹ applying names specified by $INPUT</span></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true"></a><span class="co">#&gt; ℹ subsetting accept/ignore filters code: .data[-which((.data$SD == 0)),]</span></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true"></a><span class="co">#&gt; ℹ read in nonmem IPRED data (for model validation): /tmp/RtmpZS7Fbq/Rinst3a54760ebd7ab/nonmem2rx/mods/cpt/runODE032.csv</span></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true"></a><span class="co">#&gt; ℹ changing most variables to lower case</span></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true"></a><span class="co">#&gt; ℹ replace theta names</span></span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true"></a><span class="co">#&gt; ℹ replace eta names</span></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true"></a><span class="co">#&gt; ℹ renaming compartments</span></span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true"></a><span class="co">#&gt; ℹ solving ipred problem</span></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true"></a><span class="co">#&gt; ℹ solving pred problem</span></span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true"></a></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true"></a>mod</span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true"></a><span class="co">#&gt;  ── rxode2-based free-form 2-cmt ODE model ────────────────────────────────────── </span></span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true"></a><span class="co">#&gt;  ── Initalization: ──  </span></span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true"></a><span class="co">#&gt; Fixed Effects ($theta): </span></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true"></a><span class="co">#&gt;       lcl       lvc        lq       lvp   prop.sd </span></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true"></a><span class="co">#&gt; 1.3703404 4.1981491 1.3800349 3.8765734 0.1964461 </span></span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true"></a><span class="co">#&gt; Omega ($omega): </span></span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true"></a><span class="co">#&gt;           eta.cl     eta.vc     eta.q     eta.vp</span></span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true"></a><span class="co">#&gt; eta.cl 0.1012514 0.00000000 0.0000000 0.00000000</span></span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true"></a><span class="co">#&gt; eta.vc 0.0000000 0.09938724 0.0000000 0.00000000</span></span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true"></a><span class="co">#&gt; eta.q  0.0000000 0.00000000 0.1013027 0.00000000</span></span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true"></a><span class="co">#&gt; eta.vp 0.0000000 0.00000000 0.0000000 0.07304975</span></span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true"></a><span class="co">#&gt; States ($state or $stateDf): </span></span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true"></a><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true"></a><span class="co">#&gt; 1                  1          central</span></span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true"></a><span class="co">#&gt; 2                  2            perip</span></span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true"></a><span class="co">#&gt;  ── μ-referencing ($muRefTable): ──  </span></span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true"></a><span class="co">#&gt;   theta    eta level</span></span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true"></a><span class="co">#&gt; 1   lcl eta.cl    id</span></span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true"></a><span class="co">#&gt; 2   lvc eta.vc    id</span></span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true"></a><span class="co">#&gt; 3    lq  eta.q    id</span></span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true"></a><span class="co">#&gt; 4   lvp eta.vp    id</span></span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true"></a><span class="co">#&gt;  ── Model (Normalized Syntax): ── </span></span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true"></a><span class="co">#&gt; function() {</span></span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true"></a><span class="co">#&gt;     description &lt;- &quot;BOLUS_2CPT_CLV1QV2 SINGLE DOSE FOCEI (120 Ind/2280 Obs) runODE032&quot;</span></span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true"></a><span class="co">#&gt;     dfObs &lt;- 2280</span></span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true"></a><span class="co">#&gt;     dfSub &lt;- 120</span></span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true"></a><span class="co">#&gt;     sigma &lt;- lotri({</span></span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true"></a><span class="co">#&gt;         eps1 ~ 1</span></span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true"></a><span class="co">#&gt;     })</span></span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true"></a><span class="co">#&gt;     thetaMat &lt;- lotri({</span></span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true"></a><span class="co">#&gt;         lcl ~ c(lcl = 0.000887681)</span></span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true"></a><span class="co">#&gt;         lvc ~ c(lcl = -0.00010551, lvc = 0.000871409)</span></span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true"></a><span class="co">#&gt;         lq ~ c(lcl = 0.000184416, lvc = -0.000106195, lq = 0.00299336)</span></span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true"></a><span class="co">#&gt;         lvp ~ c(lcl = -0.000120234, lvc = -5.06663e-05, lq = 0.000165252, </span></span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true"></a><span class="co">#&gt;             lvp = 0.00121347)</span></span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true"></a><span class="co">#&gt;         prop.sd ~ c(lcl = 5.2783e-08, lvc = -1.56562e-05, lq = 5.99331e-06, </span></span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true"></a><span class="co">#&gt;             lvp = -2.53991e-05, prop.sd = 9.94218e-06)</span></span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true"></a><span class="co">#&gt;         eps1 ~ c(lcl = 0, lvc = 0, lq = 0, lvp = 0, prop.sd = 0, </span></span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true"></a><span class="co">#&gt;             eps1 = 0)</span></span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true"></a><span class="co">#&gt;         eta.cl ~ c(lcl = -4.71273e-05, lvc = 4.69667e-05, lq = -3.64271e-05, </span></span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true"></a><span class="co">#&gt;             lvp = 2.54796e-05, prop.sd = -8.16885e-06, eps1 = 0, </span></span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true"></a><span class="co">#&gt;             eta.cl = 0.000169296)</span></span>
<span id="cb2-110"><a href="#cb2-110" aria-hidden="true"></a><span class="co">#&gt;         omega.2.1 ~ c(lcl = 0, lvc = 0, lq = 0, lvp = 0, prop.sd = 0, </span></span>
<span id="cb2-111"><a href="#cb2-111" aria-hidden="true"></a><span class="co">#&gt;             eps1 = 0, eta.cl = 0, omega.2.1 = 0)</span></span>
<span id="cb2-112"><a href="#cb2-112" aria-hidden="true"></a><span class="co">#&gt;         eta.vc ~ c(lcl = -7.37156e-05, lvc = 2.56634e-05, lq = -8.08349e-05, </span></span>
<span id="cb2-113"><a href="#cb2-113" aria-hidden="true"></a><span class="co">#&gt;             lvp = 1.37e-05, prop.sd = -4.36564e-06, eps1 = 0, </span></span>
<span id="cb2-114"><a href="#cb2-114" aria-hidden="true"></a><span class="co">#&gt;             eta.cl = 8.75181e-06, omega.2.1 = 0, eta.vc = 0.00015125)</span></span>
<span id="cb2-115"><a href="#cb2-115" aria-hidden="true"></a><span class="co">#&gt;         omega.3.1 ~ c(lcl = 0, lvc = 0, lq = 0, lvp = 0, prop.sd = 0, </span></span>
<span id="cb2-116"><a href="#cb2-116" aria-hidden="true"></a><span class="co">#&gt;             eps1 = 0, eta.cl = 0, omega.2.1 = 0, eta.vc = 0, </span></span>
<span id="cb2-117"><a href="#cb2-117" aria-hidden="true"></a><span class="co">#&gt;             omega.3.1 = 0)</span></span>
<span id="cb2-118"><a href="#cb2-118" aria-hidden="true"></a><span class="co">#&gt;         omega.3.2 ~ c(lcl = 0, lvc = 0, lq = 0, lvp = 0, prop.sd = 0, </span></span>
<span id="cb2-119"><a href="#cb2-119" aria-hidden="true"></a><span class="co">#&gt;             eps1 = 0, eta.cl = 0, omega.2.1 = 0, eta.vc = 0, </span></span>
<span id="cb2-120"><a href="#cb2-120" aria-hidden="true"></a><span class="co">#&gt;             omega.3.1 = 0, omega.3.2 = 0)</span></span>
<span id="cb2-121"><a href="#cb2-121" aria-hidden="true"></a><span class="co">#&gt;         eta.q ~ c(lcl = 6.63383e-05, lvc = -8.19002e-05, lq = 0.000548985, </span></span>
<span id="cb2-122"><a href="#cb2-122" aria-hidden="true"></a><span class="co">#&gt;             lvp = 0.000168356, prop.sd = 1.59122e-06, eps1 = 0, </span></span>
<span id="cb2-123"><a href="#cb2-123" aria-hidden="true"></a><span class="co">#&gt;             eta.cl = 3.48714e-05, omega.2.1 = 0, eta.vc = 4.31593e-07, </span></span>
<span id="cb2-124"><a href="#cb2-124" aria-hidden="true"></a><span class="co">#&gt;             omega.3.1 = 0, omega.3.2 = 0, eta.q = 0.000959029)</span></span>
<span id="cb2-125"><a href="#cb2-125" aria-hidden="true"></a><span class="co">#&gt;         omega.4.1 ~ c(lcl = 0, lvc = 0, lq = 0, lvp = 0, prop.sd = 0, </span></span>
<span id="cb2-126"><a href="#cb2-126" aria-hidden="true"></a><span class="co">#&gt;             eps1 = 0, eta.cl = 0, omega.2.1 = 0, eta.vc = 0, </span></span>
<span id="cb2-127"><a href="#cb2-127" aria-hidden="true"></a><span class="co">#&gt;             omega.3.1 = 0, omega.3.2 = 0, eta.q = 0, omega.4.1 = 0)</span></span>
<span id="cb2-128"><a href="#cb2-128" aria-hidden="true"></a><span class="co">#&gt;         omega.4.2 ~ c(lcl = 0, lvc = 0, lq = 0, lvp = 0, prop.sd = 0, </span></span>
<span id="cb2-129"><a href="#cb2-129" aria-hidden="true"></a><span class="co">#&gt;             eps1 = 0, eta.cl = 0, omega.2.1 = 0, eta.vc = 0, </span></span>
<span id="cb2-130"><a href="#cb2-130" aria-hidden="true"></a><span class="co">#&gt;             omega.3.1 = 0, omega.3.2 = 0, eta.q = 0, omega.4.1 = 0, </span></span>
<span id="cb2-131"><a href="#cb2-131" aria-hidden="true"></a><span class="co">#&gt;             omega.4.2 = 0)</span></span>
<span id="cb2-132"><a href="#cb2-132" aria-hidden="true"></a><span class="co">#&gt;         omega.4.3 ~ c(lcl = 0, lvc = 0, lq = 0, lvp = 0, prop.sd = 0, </span></span>
<span id="cb2-133"><a href="#cb2-133" aria-hidden="true"></a><span class="co">#&gt;             eps1 = 0, eta.cl = 0, omega.2.1 = 0, eta.vc = 0, </span></span>
<span id="cb2-134"><a href="#cb2-134" aria-hidden="true"></a><span class="co">#&gt;             omega.3.1 = 0, omega.3.2 = 0, eta.q = 0, omega.4.1 = 0, </span></span>
<span id="cb2-135"><a href="#cb2-135" aria-hidden="true"></a><span class="co">#&gt;             omega.4.2 = 0, omega.4.3 = 0)</span></span>
<span id="cb2-136"><a href="#cb2-136" aria-hidden="true"></a><span class="co">#&gt;         eta.vp ~ c(lcl = -9.49661e-06, lvc = 0.000110108, lq = -0.000306537, </span></span>
<span id="cb2-137"><a href="#cb2-137" aria-hidden="true"></a><span class="co">#&gt;             lvp = -9.12897e-05, prop.sd = 3.1877e-06, eps1 = 0, </span></span>
<span id="cb2-138"><a href="#cb2-138" aria-hidden="true"></a><span class="co">#&gt;             eta.cl = 1.36628e-05, omega.2.1 = 0, eta.vc = -1.95096e-05, </span></span>
<span id="cb2-139"><a href="#cb2-139" aria-hidden="true"></a><span class="co">#&gt;             omega.3.1 = 0, omega.3.2 = 0, eta.q = -0.00012977, </span></span>
<span id="cb2-140"><a href="#cb2-140" aria-hidden="true"></a><span class="co">#&gt;             omega.4.1 = 0, omega.4.2 = 0, omega.4.3 = 0, eta.vp = 0.00051019)</span></span>
<span id="cb2-141"><a href="#cb2-141" aria-hidden="true"></a><span class="co">#&gt;     })</span></span>
<span id="cb2-142"><a href="#cb2-142" aria-hidden="true"></a><span class="co">#&gt;     validation &lt;- c(&quot;IPRED relative difference compared to Nonmem IPRED: 0%; 95% percentile: (0%,0%); rtol=6.43e-06&quot;, </span></span>
<span id="cb2-143"><a href="#cb2-143" aria-hidden="true"></a><span class="co">#&gt;         &quot;IPRED absolute difference compared to Nonmem IPRED: 95% percentile: (2.19e-05, 0.0418); atol=0.00167&quot;, </span></span>
<span id="cb2-144"><a href="#cb2-144" aria-hidden="true"></a><span class="co">#&gt;         &quot;IWRES relative difference compared to Nonmem IWRES: 0%; 95% percentile: (0%,0.01%); rtol=8.99e-06&quot;, </span></span>
<span id="cb2-145"><a href="#cb2-145" aria-hidden="true"></a><span class="co">#&gt;         &quot;IWRES absolute difference compared to Nonmem IWRES: 95% percentile: (1.82e-07, 4.63e-05); atol=3.65e-06&quot;, </span></span>
<span id="cb2-146"><a href="#cb2-146" aria-hidden="true"></a><span class="co">#&gt;         &quot;PRED relative difference compared to Nonmem PRED: 0%; 95% percentile: (0%,0%); rtol=6.41e-06&quot;, </span></span>
<span id="cb2-147"><a href="#cb2-147" aria-hidden="true"></a><span class="co">#&gt;         &quot;PRED absolute difference compared to Nonmem PRED: 95% percentile: (1.41e-07,0.00382) atol=6.41e-06&quot;)</span></span>
<span id="cb2-148"><a href="#cb2-148" aria-hidden="true"></a><span class="co">#&gt;     ini({</span></span>
<span id="cb2-149"><a href="#cb2-149" aria-hidden="true"></a><span class="co">#&gt;         lcl &lt;- 1.37034036528946</span></span>
<span id="cb2-150"><a href="#cb2-150" aria-hidden="true"></a><span class="co">#&gt;         label(&quot;log Cl&quot;)</span></span>
<span id="cb2-151"><a href="#cb2-151" aria-hidden="true"></a><span class="co">#&gt;         lvc &lt;- 4.19814911033061</span></span>
<span id="cb2-152"><a href="#cb2-152" aria-hidden="true"></a><span class="co">#&gt;         label(&quot;log Vc&quot;)</span></span>
<span id="cb2-153"><a href="#cb2-153" aria-hidden="true"></a><span class="co">#&gt;         lq &lt;- 1.38003493562413</span></span>
<span id="cb2-154"><a href="#cb2-154" aria-hidden="true"></a><span class="co">#&gt;         label(&quot;log Q&quot;)</span></span>
<span id="cb2-155"><a href="#cb2-155" aria-hidden="true"></a><span class="co">#&gt;         lvp &lt;- 3.87657341967489</span></span>
<span id="cb2-156"><a href="#cb2-156" aria-hidden="true"></a><span class="co">#&gt;         label(&quot;log Vp&quot;)</span></span>
<span id="cb2-157"><a href="#cb2-157" aria-hidden="true"></a><span class="co">#&gt;         prop.sd &lt;- c(0, 0.196446108190896, 1)</span></span>
<span id="cb2-158"><a href="#cb2-158" aria-hidden="true"></a><span class="co">#&gt;         label(&quot;RSV&quot;)</span></span>
<span id="cb2-159"><a href="#cb2-159" aria-hidden="true"></a><span class="co">#&gt;         eta.cl ~ 0.101251418415006</span></span>
<span id="cb2-160"><a href="#cb2-160" aria-hidden="true"></a><span class="co">#&gt;         eta.vc ~ 0.0993872449483344</span></span>
<span id="cb2-161"><a href="#cb2-161" aria-hidden="true"></a><span class="co">#&gt;         eta.q ~ 0.101302674763154</span></span>
<span id="cb2-162"><a href="#cb2-162" aria-hidden="true"></a><span class="co">#&gt;         eta.vp ~ 0.0730497519364148</span></span>
<span id="cb2-163"><a href="#cb2-163" aria-hidden="true"></a><span class="co">#&gt;     })</span></span>
<span id="cb2-164"><a href="#cb2-164" aria-hidden="true"></a><span class="co">#&gt;     model({</span></span>
<span id="cb2-165"><a href="#cb2-165" aria-hidden="true"></a><span class="co">#&gt;         cmt(central)</span></span>
<span id="cb2-166"><a href="#cb2-166" aria-hidden="true"></a><span class="co">#&gt;         cmt(perip)</span></span>
<span id="cb2-167"><a href="#cb2-167" aria-hidden="true"></a><span class="co">#&gt;         cl &lt;- exp(lcl + eta.cl)</span></span>
<span id="cb2-168"><a href="#cb2-168" aria-hidden="true"></a><span class="co">#&gt;         v &lt;- exp(lvc + eta.vc)</span></span>
<span id="cb2-169"><a href="#cb2-169" aria-hidden="true"></a><span class="co">#&gt;         q &lt;- exp(lq + eta.q)</span></span>
<span id="cb2-170"><a href="#cb2-170" aria-hidden="true"></a><span class="co">#&gt;         v2 &lt;- exp(lvp + eta.vp)</span></span>
<span id="cb2-171"><a href="#cb2-171" aria-hidden="true"></a><span class="co">#&gt;         v1 &lt;- v</span></span>
<span id="cb2-172"><a href="#cb2-172" aria-hidden="true"></a><span class="co">#&gt;         scale1 &lt;- v</span></span>
<span id="cb2-173"><a href="#cb2-173" aria-hidden="true"></a><span class="co">#&gt;         k21 &lt;- q/v2</span></span>
<span id="cb2-174"><a href="#cb2-174" aria-hidden="true"></a><span class="co">#&gt;         k12 &lt;- q/v</span></span>
<span id="cb2-175"><a href="#cb2-175" aria-hidden="true"></a><span class="co">#&gt;         d/dt(central) &lt;- k21 * perip - k12 * central - cl * central/v1</span></span>
<span id="cb2-176"><a href="#cb2-176" aria-hidden="true"></a><span class="co">#&gt;         d/dt(perip) &lt;- -k21 * perip + k12 * central</span></span>
<span id="cb2-177"><a href="#cb2-177" aria-hidden="true"></a><span class="co">#&gt;         f &lt;- central/scale1</span></span>
<span id="cb2-178"><a href="#cb2-178" aria-hidden="true"></a><span class="co">#&gt;         ipred &lt;- f</span></span>
<span id="cb2-179"><a href="#cb2-179" aria-hidden="true"></a><span class="co">#&gt;         rescv &lt;- prop.sd</span></span>
<span id="cb2-180"><a href="#cb2-180" aria-hidden="true"></a><span class="co">#&gt;         ipred ~ prop(prop.sd)</span></span>
<span id="cb2-181"><a href="#cb2-181" aria-hidden="true"></a><span class="co">#&gt;     })</span></span>
<span id="cb2-182"><a href="#cb2-182" aria-hidden="true"></a><span class="co">#&gt; }</span></span>
<span id="cb2-183"><a href="#cb2-183" aria-hidden="true"></a><span class="co">#&gt;  ── nonmem2rx extra properties: ──  </span></span>
<span id="cb2-184"><a href="#cb2-184" aria-hidden="true"></a><span class="co">#&gt; other properties include: $nonmemData, $etaData</span></span>
<span id="cb2-185"><a href="#cb2-185" aria-hidden="true"></a><span class="co">#&gt; captured NONMEM table outputs: $predData, $ipredData</span></span>
<span id="cb2-186"><a href="#cb2-186" aria-hidden="true"></a><span class="co">#&gt; NONMEM/rxode2 comparison data: $iwresCompare, $predCompare, $ipredCompare</span></span>
<span id="cb2-187"><a href="#cb2-187" aria-hidden="true"></a><span class="co">#&gt; NONMEM/rxode2 composite comparison: $predAtol, $predRtol, $ipredAtol, $ipredRtol, $iwresAtol, $iwresRtol</span></span></code></pre></div>
<p>This checks the parameter names to make sure they are the same length as the input names, if they are not, the model will skip parameter renaming and keep the default translation names <code>theta#</code> and <code>eta#</code>.</p>
<p>As a note, <code>sigma</code> parameters are not currently renamed; So for the following model (which grabs the parameter automatically labels to generate variables), <code>sigma</code> is simply <code>eps#</code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a>mod &lt;-<span class="st"> </span><span class="kw">nonmem2rx</span>(<span class="kw">system.file</span>(<span class="st">&quot;Theopd.ctl&quot;</span>, <span class="dt">package=</span><span class="st">&quot;nonmem2rx&quot;</span>), <span class="dt">save=</span><span class="ot">FALSE</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a><span class="co">#&gt; ℹ getting information from  &#39;/tmp/RtmpZS7Fbq/Rinst3a54760ebd7ab/nonmem2rx/Theopd.ctl&#39;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a><span class="co">#&gt; ℹ reading in lst file</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true"></a><span class="co">#&gt; ℹ seeing if file argument is actually lst file</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true"></a><span class="co">#&gt; ℹ not list file, control stream</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true"></a><span class="co">#&gt; ℹ splitting control stream by records</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $INPUT</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $gTHETA</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $OMEGA</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $SIGMA</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $PROBLEM</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $DATA</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $ESTIMATION</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true"></a><span class="co">#&gt; ℹ Ignore record $ESTIMATION</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $COVARIANCE</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true"></a><span class="co">#&gt; ℹ Ignore record $COVARIANCE</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $PRED</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true"></a><span class="co">#&gt; ℹ Processing record $TABLE</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true"></a><span class="co">#&gt; ℹ final parameters not updated, will skip validation</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true"></a><span class="co">#&gt; ℹ changing most variables to lower case</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true"></a><span class="co">#&gt; ℹ replace theta names</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true"></a><span class="co">#&gt; ℹ replace eta names</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true"></a><span class="co">#&gt; ℹ done</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true"></a>mod</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true"></a><span class="co">#&gt;  ── rxode2-based Pred model ───────────────────────────────────────────────────── </span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true"></a><span class="co">#&gt;  ── Initalization: ──  </span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true"></a><span class="co">#&gt; Fixed Effects ($theta): </span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true"></a><span class="co">#&gt;   POP_E0 POP_EMAX  POP_C50 </span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true"></a><span class="co">#&gt;      150      200       10 </span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true"></a><span class="co">#&gt; Omega ($omega): </span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true"></a><span class="co">#&gt;          PPV_E0 PPV_EMAX PPV_C50</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true"></a><span class="co">#&gt; PPV_E0      0.5      0.0     0.0</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true"></a><span class="co">#&gt; PPV_EMAX    0.0      0.5     0.0</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true"></a><span class="co">#&gt; PPV_C50     0.0      0.0     0.5</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true"></a><span class="co">#&gt;  ── Model (Normalized Syntax): ── </span></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true"></a><span class="co">#&gt; function() {</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true"></a><span class="co">#&gt;     description &lt;- &quot;theophylline pharmacodynamics standard control stream&quot;</span></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true"></a><span class="co">#&gt;     sigma &lt;- lotri({</span></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true"></a><span class="co">#&gt;         eps1 ~ 100</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true"></a><span class="co">#&gt;     })</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true"></a><span class="co">#&gt;     validation &lt;- &quot;final parameters not updated, validation skipped&quot;</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true"></a><span class="co">#&gt;     ini({</span></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true"></a><span class="co">#&gt;         POP_E0 &lt;- c(0, 150)</span></span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true"></a><span class="co">#&gt;         label(&quot;POP_E0 1&quot;)</span></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true"></a><span class="co">#&gt;         POP_EMAX &lt;- c(0, 200)</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true"></a><span class="co">#&gt;         label(&quot;POP_EMAX 2&quot;)</span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true"></a><span class="co">#&gt;         POP_C50 &lt;- c(0.001, 10)</span></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true"></a><span class="co">#&gt;         label(&quot;POP_C50 3&quot;)</span></span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true"></a><span class="co">#&gt;         PPV_E0 ~ 0.5</span></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true"></a><span class="co">#&gt;         PPV_EMAX ~ 0.5</span></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true"></a><span class="co">#&gt;         PPV_C50 ~ 0.5</span></span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true"></a><span class="co">#&gt;     })</span></span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true"></a><span class="co">#&gt;     model({</span></span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true"></a><span class="co">#&gt;         e0 &lt;- POP_E0 * exp(PPV_E0)</span></span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true"></a><span class="co">#&gt;         emax &lt;- POP_EMAX * exp(PPV_EMAX)</span></span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true"></a><span class="co">#&gt;         ec50 &lt;- POP_C50 * exp(PPV_C50)</span></span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true"></a><span class="co">#&gt;         y &lt;- e0 + emax * THEO/(THEO + ec50) + eps1</span></span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true"></a><span class="co">#&gt;     })</span></span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true"></a><span class="co">#&gt; }</span></span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true"></a><span class="co">#&gt;  ── nonmem2rx extra properties: ──  </span></span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true"></a><span class="co">#&gt; Sigma ($sigma): </span></span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true"></a><span class="co">#&gt;      eps1</span></span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true"></a><span class="co">#&gt; eps1  100</span></span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true"></a><span class="co">#&gt; other properties include: $etaData</span></span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true"></a><span class="co">#&gt; captured NONMEM table outputs: $predData, $ipredData</span></span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true"></a><span class="co">#&gt; NONMEM/rxode2 comparison data: $iwresCompare, $predCompare, $ipredCompare</span></span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true"></a><span class="co">#&gt; NONMEM/rxode2 composite comparison: $predAtol, $predRtol, $ipredAtol, $ipredRtol, $iwresAtol, $iwresRtol</span></span></code></pre></div>
<p>You can still rename however you wish, though, using model piping (<code>rxRename()</code> or <code>dplyr::rename()</code> would both work):</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a>mod &lt;-<span class="st"> </span>mod <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">rxRename</span>(<span class="dt">add.var=</span>eps1)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a>mod</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a><span class="co">#&gt;  ── rxode2-based Pred model ───────────────────────────────────────────────────── </span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a><span class="co">#&gt;  ── Initalization: ──  </span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a><span class="co">#&gt; Fixed Effects ($theta): </span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true"></a><span class="co">#&gt;   POP_E0 POP_EMAX  POP_C50 </span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true"></a><span class="co">#&gt;      150      200       10 </span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true"></a><span class="co">#&gt; Omega ($omega): </span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true"></a><span class="co">#&gt;          PPV_E0 PPV_EMAX PPV_C50</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true"></a><span class="co">#&gt; PPV_E0      0.5      0.0     0.0</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true"></a><span class="co">#&gt; PPV_EMAX    0.0      0.5     0.0</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true"></a><span class="co">#&gt; PPV_C50     0.0      0.0     0.5</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true"></a><span class="co">#&gt;  ── Model (Normalized Syntax): ── </span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true"></a><span class="co">#&gt; function() {</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true"></a><span class="co">#&gt;     description &lt;- &quot;theophylline pharmacodynamics standard control stream&quot;</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true"></a><span class="co">#&gt;     sigma &lt;- lotri({</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true"></a><span class="co">#&gt;         add.var ~ 100</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true"></a><span class="co">#&gt;     })</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true"></a><span class="co">#&gt;     validation &lt;- &quot;final parameters not updated, validation skipped&quot;</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true"></a><span class="co">#&gt;     ini({</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true"></a><span class="co">#&gt;         POP_E0 &lt;- c(0, 150)</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true"></a><span class="co">#&gt;         label(&quot;POP_E0 1&quot;)</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true"></a><span class="co">#&gt;         POP_EMAX &lt;- c(0, 200)</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true"></a><span class="co">#&gt;         label(&quot;POP_EMAX 2&quot;)</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true"></a><span class="co">#&gt;         POP_C50 &lt;- c(0.001, 10)</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true"></a><span class="co">#&gt;         label(&quot;POP_C50 3&quot;)</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true"></a><span class="co">#&gt;         PPV_E0 ~ 0.5</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true"></a><span class="co">#&gt;         PPV_EMAX ~ 0.5</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true"></a><span class="co">#&gt;         PPV_C50 ~ 0.5</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true"></a><span class="co">#&gt;     })</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true"></a><span class="co">#&gt;     model({</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true"></a><span class="co">#&gt;         e0 &lt;- POP_E0 * exp(PPV_E0)</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true"></a><span class="co">#&gt;         emax &lt;- POP_EMAX * exp(PPV_EMAX)</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true"></a><span class="co">#&gt;         ec50 &lt;- POP_C50 * exp(PPV_C50)</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true"></a><span class="co">#&gt;         y &lt;- e0 + emax * THEO/(THEO + ec50) + add.var</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true"></a><span class="co">#&gt;     })</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true"></a><span class="co">#&gt; }</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true"></a><span class="co">#&gt;  ── nonmem2rx extra properties: ──  </span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true"></a><span class="co">#&gt; Sigma ($sigma): </span></span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true"></a><span class="co">#&gt;         add.var</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true"></a><span class="co">#&gt; add.var     100</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true"></a><span class="co">#&gt; other properties include: $etaData</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true"></a><span class="co">#&gt; captured NONMEM table outputs: $predData, $ipredData</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true"></a><span class="co">#&gt; NONMEM/rxode2 comparison data: $iwresCompare, $predCompare, $ipredCompare</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true"></a><span class="co">#&gt; NONMEM/rxode2 composite comparison: $predAtol, $predRtol, $ipredAtol, $ipredRtol, $iwresAtol, $iwresRtol</span></span></code></pre></div>
<p>This model does not specify the residuals in a way that makes sense to <code>nlmixr2</code>. If you want, you can still <a href="https://nlmixr2.github.io/nonmem2rx/articles/convert-nlmixr2.html">convert the <code>rxode2</code> model to a nlmixr2 fit</a>.</p>
</div>
<div id="technical-details-about-reading-nonmem-to-rxode2" class="section level2">
<h2>Technical details about reading NONMEM to rxode2</h2>
<p>The key files to import are the NONMEM control stream (or related file) and the NONMEM output (often with a <code>.lst</code> or <code>.res</code> extension).</p>
<p>The import process steps are below:</p>
<ul>
<li><p>Read in the nonmem control stream and convert the model to a <code>rxode2</code> ui function.</p></li>
<li><p>Try to determine an endpoint/residual specification in the model (if possible), and convert to a fully qualified ui model that can be used in <code>nlmixr2</code> and <code>rxode2</code>. If it cannot be determined automatically, <a href="https://nlmixr2.github.io/nonmem2rx/articles/convert-nlmixr2.html">you can manually fix this</a> and still convert to a <code>nlmixr2</code> object (if the data/estimates are available of course).</p></li>
<li><p>If available, <code>nonmem2rx</code> will read the final parameter estimates and update the model.</p></li>
<li><p>The converter will read in the nonmem input dataset, and search for the output files with <code>IPRED</code>, <code>PRED</code> and the <code>ETA</code> values. The translated <code>rxode2</code> model is run for the population parameters and the individual parameters. This will then compare the results between <code>NONMEM</code> and <code>rxode2</code> to make sure the translation makes sense. This only works when <code>nonmem2rx</code> has access to the input data and the output with the <code>IWRES</code>, <code>IPRED</code>, <code>PRED</code> and the <code>ETA</code> values.</p></li>
<li><p>Converts the upper case NONMEM variables to lower case (can be turned off with <code>nonmem2rx(..., toLowerLhs=FALSE))</code>)</p></li>
<li><p>Replaces the NONMEM theta / eta names with the label-based names like an extended control stream (can be turned off with <code>nonmem2rx(thetaNames=FALSE, etaNames=FALSE)</code>)</p></li>
<li><p>Replaces the compartment names with the defined compartment names in the control stream (ie <code>COMP=(compartmenName)</code>)</p></li>
</ul>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
